# Snapshot report for `src/cli/publish.test.js`

The actual snapshot is saved in `publish.test.js.snap`.

Generated by [AVA](https://ava.li).

## should publish an aragon app directory successfully

> Snapshot 1

    `Running prepublish script [started]␊
    Running prepublish script [skipped]␊
    → prepublishOnly script not defined in package.json␊
    Check IPFS [started]␊
    Start IPFS [started]␊
    → IPFS is started, checking CORS config␊
    Start IPFS [completed]␊
    Add local files [started]␊
    Add local files [completed]␊
    Check IPFS [completed]␊
    Applying version bump (major) [started]␊
    i Fetching latest version from aragonPM...␊
    Applying version bump (major) [completed]␊
    [deleted-build-script-output]Building frontend [completed]␊
    Deploy contract [started]␊
    Compile contracts [started]␊
    Compile contracts [completed]␊
    Deploy 'CounterApp' to network [started]␊
    → Deploying 'CounterApp' to network␊
    Deploy 'CounterApp' to network [completed]␊
    Generate deployment artifacts [started]␊
    Generate deployment artifacts [completed]␊
    Deploy contract [completed]␊
    Determine contract address for version [started]␊
    Determine contract address for version [completed]␊
    Prepare files for publishing [started]␊
    Prepare files for publishing [completed]␊
    Generate application artifact [started]␊
    Generate application artifact [skipped]␊
    → Using existing artifact␊
    Publish intent [started]␊
    Publish intent [completed][deleted-app-deployment-output]Publish foobar.open.aragonpm.eth [started]␊
    Generating transaction [started]␊
    → Fetching DAO at 0x9a348D0c3f55c2B3f6A400CC1BE71c882Ff1bdC3...␊
    Redefining LocalForage driver: memoryStorageDriver␊
    Generating transaction [completed]␊
    Sending transaction [started]␊
    → Waiting for transaction to be mined...␊
    Sending transaction [completed]␊
    Publish foobar.open.aragonpm.eth [completed]␊
    ␊
     Successfully published foobar.open.aragonpm.eth`

> Snapshot 2

    {
      abi: [
        {
          constant: true,
          inputs: [],
          name: 'INCREMENT_ROLE',
          outputs: [
            {
              name: '',
              type: 'bytes32',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'hasInitialized',
          outputs: [
            {
              name: '',
              type: 'bool',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [
            {
              name: '_script',
              type: 'bytes',
            },
          ],
          name: 'getEVMScriptExecutor',
          outputs: [
            {
              name: '',
              type: 'address',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'getRecoveryVault',
          outputs: [
            {
              name: '',
              type: 'address',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'value',
          outputs: [
            {
              name: '',
              type: 'uint256',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [
            {
              name: 'token',
              type: 'address',
            },
          ],
          name: 'allowRecoverability',
          outputs: [
            {
              name: '',
              type: 'bool',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'appId',
          outputs: [
            {
              name: '',
              type: 'bytes32',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'getInitializationBlock',
          outputs: [
            {
              name: '',
              type: 'uint256',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: false,
          inputs: [
            {
              name: '_token',
              type: 'address',
            },
          ],
          name: 'transferToVault',
          outputs: [],
          payable: false,
          stateMutability: 'nonpayable',
          type: 'function',
        },
        {
          constant: true,
          inputs: [
            {
              name: '_sender',
              type: 'address',
            },
            {
              name: '_role',
              type: 'bytes32',
            },
            {
              name: '_params',
              type: 'uint256[]',
            },
          ],
          name: 'canPerform',
          outputs: [
            {
              name: '',
              type: 'bool',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'getEVMScriptRegistry',
          outputs: [
            {
              name: '',
              type: 'address',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'kernel',
          outputs: [
            {
              name: '',
              type: 'address',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'isPetrified',
          outputs: [
            {
              name: '',
              type: 'bool',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'DECREMENT_ROLE',
          outputs: [
            {
              name: '',
              type: 'bytes32',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          anonymous: false,
          inputs: [
            {
              indexed: true,
              name: 'entity',
              type: 'address',
            },
            {
              indexed: false,
              name: 'step',
              type: 'uint256',
            },
          ],
          name: 'Increment',
          type: 'event',
        },
        {
          anonymous: false,
          inputs: [
            {
              indexed: true,
              name: 'entity',
              type: 'address',
            },
            {
              indexed: false,
              name: 'step',
              type: 'uint256',
            },
          ],
          name: 'Decrement',
          type: 'event',
        },
        {
          anonymous: false,
          inputs: [
            {
              indexed: true,
              name: 'executor',
              type: 'address',
            },
            {
              indexed: false,
              name: 'script',
              type: 'bytes',
            },
            {
              indexed: false,
              name: 'input',
              type: 'bytes',
            },
            {
              indexed: false,
              name: 'returnData',
              type: 'bytes',
            },
          ],
          name: 'ScriptResult',
          type: 'event',
        },
        {
          anonymous: false,
          inputs: [
            {
              indexed: true,
              name: 'vault',
              type: 'address',
            },
            {
              indexed: true,
              name: 'token',
              type: 'address',
            },
            {
              indexed: false,
              name: 'amount',
              type: 'uint256',
            },
          ],
          name: 'RecoverToVault',
          type: 'event',
        },
        {
          constant: false,
          inputs: [],
          name: 'initialize',
          outputs: [],
          payable: false,
          stateMutability: 'nonpayable',
          type: 'function',
        },
        {
          constant: false,
          inputs: [
            {
              name: 'step',
              type: 'uint256',
            },
          ],
          name: 'increment',
          outputs: [],
          payable: false,
          stateMutability: 'nonpayable',
          type: 'function',
        },
        {
          constant: false,
          inputs: [
            {
              name: 'step',
              type: 'uint256',
            },
          ],
          name: 'decrement',
          outputs: [],
          payable: false,
          stateMutability: 'nonpayable',
          type: 'function',
        },
      ],
      appId: '0xb39757c25b243e14bda15a9fdd56326460db87605ad9b7d1bebda65370e5e85b',
      appName: 'foobar.open.aragonpm.eth',
      deprecatedFunctions: {},
      env: {
        appName: 'foobar.open.aragonpm.eth',
        network: 'development',
      },
      environments: {
        default: {
          appName: 'foobar.open.aragonpm.eth',
          network: 'development',
        },
        mainnet: {
          appName: 'foobar.open.aragonpm.eth',
          network: 'mainnet',
          registry: '0x314159265dd8dbb310642f98f50c066173c1259b',
          wsRPC: 'wss://mainnet.eth.aragon.network/ws',
        },
        rinkeby: {
          appName: 'foobar.open.aragonpm.eth',
          network: 'rinkeby',
          registry: '0x98df287b6c145399aaa709692c8d308357bc085d',
          wsRPC: 'wss://rinkeby.eth.aragon.network/ws',
        },
        staging: {
          appName: 'foobar.open.aragonpm.eth',
          network: 'rinkeby',
          registry: '0xfe03625ea880a8cba336f9b5ad6e15b0a3b5a939',
          wsRPC: 'wss://rinkeby.eth.aragon.network/ws',
        },
      },
      functions: [
        {
          abi: {
            constant: false,
            inputs: [],
            name: 'initialize',
            outputs: [],
            payable: false,
            stateMutability: 'nonpayable',
            type: 'function',
          },
          notice: null,
          roles: [],
          sig: 'initialize()',
        },
        {
          abi: {
            constant: false,
            inputs: [
              {
                name: 'step',
                type: 'uint256',
              },
            ],
            name: 'increment',
            outputs: [],
            payable: false,
            stateMutability: 'nonpayable',
            type: 'function',
          },
          notice: 'Increment the counter by `step`',
          roles: [
            'INCREMENT_ROLE',
          ],
          sig: 'increment(uint256)',
        },
        {
          abi: {
            constant: false,
            inputs: [
              {
                name: 'step',
                type: 'uint256',
              },
            ],
            name: 'decrement',
            outputs: [],
            payable: false,
            stateMutability: 'nonpayable',
            type: 'function',
          },
          notice: 'Decrement the counter by `step`',
          roles: [
            'DECREMENT_ROLE',
          ],
          sig: 'decrement(uint256)',
        },
      ],
      path: 'contracts/CounterApp.sol',
      roles: [
        {
          bytes: '0xa5be7a5782a02b192d813e38755a8b0f7a8b22c44f4d8bd9bd2697eb4b6b9eb2',
          id: 'INCREMENT_ROLE',
          name: 'Increment the counter',
          params: [],
        },
        {
          bytes: '0x6e46e39f4f121e8e4e992626990ce2fdbd501ac84167db8c74df030be07819a4',
          id: 'DECREMENT_ROLE',
          name: 'Decrement the counter',
          params: [],
        },
      ],
    }

> Snapshot 3

    {
      author: 'Placeholder-author',
      description: 'An application for Aragon',
      details_url: '/meta/details.md',
      icons: [
        {
          sizes: '56x56',
          src: '/meta/icon.svg',
        },
      ],
      name: 'Counter',
      screenshots: [
        {
          src: '/meta/screenshot-1.png',
        },
      ],
      script: '/script.js',
      source_url: 'https://<placeholder-repository-url>',
      start_url: '/index.html',
    }
