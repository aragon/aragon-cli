# Snapshot report for `src/cli/apm-publish.test.js`

The actual snapshot is saved in `apm-publish.test.js.snap`.

Generated by [AVA](https://ava.li).

## should publish an aragon app directory successfully

> Snapshot 1

    `Check IPFS [started]␊
    Start IPFS [started]␊
    → Starting IPFS at port: 5001␊
    Start IPFS [completed]␊
    Add local files [started]␊
    Add local files [completed]␊
    Check IPFS [completed]␊
    Applying version bump (major) [started]␊
    Applying version bump (major) [completed]␊
    Deploy contract [started]␊
    Compile contracts [started]␊
    Compile contracts [completed]␊
    Deploy 'CounterApp' to network [started]␊
    → Deploying 'CounterApp' to network␊
    Deploy 'CounterApp' to network [completed]␊
    Generate deployment artifacts [started]␊
    Generate deployment artifacts [completed]␊
    Deploy contract [completed]␊
    Determine contract address for version [started]␊
    Determine contract address for version [completed]␊
    Prepare files for publishing [started]␊
    Prepare files for publishing [completed]␊
    Generate application artifact [started]␊
    Generate application artifact [completed]␊
    Publish foobarfoo.aragonpm.eth [started]␊
    Generating transaction [started]␊
    → Fetching DAO at 0x983b4Df4E8458D56CFDC51B9d2149381AF80308A...␊
    Generating transaction [completed]␊
    Sending transaction [started]␊
    → Waiting for transaction to be mined...␊
    Sending transaction [completed]␊
    Publish foobarfoo.aragonpm.eth [completed]␊
    Fetch published repo [started]␊
    Fetch published repo [completed]␊
    ␊
     ✔ Successfully published foobarfoo.aragonpm.eth v1.0.0: ␊
     i Contract address: 0x2e9f55f7266d8C7e07d359daBA0e743e331B7A1A␊
     i Content (ipfs): QmQg356dFfVZUqMHvWbvBLRv2aR2McfabCBWwosuVTuZrc␊
     i Transaction hash: 0x828029e268271db1a553f58fc2bc050dfb61b6290da8e483847bf73361229f7e␊
     >`

> Snapshot 2

    {
      abi: [
        {
          constant: true,
          inputs: [],
          name: 'INCREMENT_ROLE',
          outputs: [
            {
              name: '',
              type: 'bytes32',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'hasInitialized',
          outputs: [
            {
              name: '',
              type: 'bool',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [
            {
              name: '_script',
              type: 'bytes',
            },
          ],
          name: 'getEVMScriptExecutor',
          outputs: [
            {
              name: '',
              type: 'address',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'getRecoveryVault',
          outputs: [
            {
              name: '',
              type: 'address',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'value',
          outputs: [
            {
              name: '',
              type: 'uint256',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [
            {
              name: 'token',
              type: 'address',
            },
          ],
          name: 'allowRecoverability',
          outputs: [
            {
              name: '',
              type: 'bool',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'appId',
          outputs: [
            {
              name: '',
              type: 'bytes32',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'getInitializationBlock',
          outputs: [
            {
              name: '',
              type: 'uint256',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: false,
          inputs: [
            {
              name: '_token',
              type: 'address',
            },
          ],
          name: 'transferToVault',
          outputs: [],
          payable: false,
          stateMutability: 'nonpayable',
          type: 'function',
        },
        {
          constant: true,
          inputs: [
            {
              name: '_sender',
              type: 'address',
            },
            {
              name: '_role',
              type: 'bytes32',
            },
            {
              name: '_params',
              type: 'uint256[]',
            },
          ],
          name: 'canPerform',
          outputs: [
            {
              name: '',
              type: 'bool',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'getEVMScriptRegistry',
          outputs: [
            {
              name: '',
              type: 'address',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'kernel',
          outputs: [
            {
              name: '',
              type: 'address',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'isPetrified',
          outputs: [
            {
              name: '',
              type: 'bool',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'DECREMENT_ROLE',
          outputs: [
            {
              name: '',
              type: 'bytes32',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          anonymous: false,
          inputs: [
            {
              indexed: true,
              name: 'entity',
              type: 'address',
            },
            {
              indexed: false,
              name: 'step',
              type: 'uint256',
            },
          ],
          name: 'Increment',
          type: 'event',
        },
        {
          anonymous: false,
          inputs: [
            {
              indexed: true,
              name: 'entity',
              type: 'address',
            },
            {
              indexed: false,
              name: 'step',
              type: 'uint256',
            },
          ],
          name: 'Decrement',
          type: 'event',
        },
        {
          anonymous: false,
          inputs: [
            {
              indexed: true,
              name: 'executor',
              type: 'address',
            },
            {
              indexed: false,
              name: 'script',
              type: 'bytes',
            },
            {
              indexed: false,
              name: 'input',
              type: 'bytes',
            },
            {
              indexed: false,
              name: 'returnData',
              type: 'bytes',
            },
          ],
          name: 'ScriptResult',
          type: 'event',
        },
        {
          anonymous: false,
          inputs: [
            {
              indexed: true,
              name: 'vault',
              type: 'address',
            },
            {
              indexed: true,
              name: 'token',
              type: 'address',
            },
            {
              indexed: false,
              name: 'amount',
              type: 'uint256',
            },
          ],
          name: 'RecoverToVault',
          type: 'event',
        },
        {
          constant: false,
          inputs: [],
          name: 'initialize',
          outputs: [],
          payable: false,
          stateMutability: 'nonpayable',
          type: 'function',
        },
        {
          constant: false,
          inputs: [
            {
              name: 'step',
              type: 'uint256',
            },
          ],
          name: 'increment',
          outputs: [],
          payable: false,
          stateMutability: 'nonpayable',
          type: 'function',
        },
        {
          constant: false,
          inputs: [
            {
              name: 'step',
              type: 'uint256',
            },
          ],
          name: 'decrement',
          outputs: [],
          payable: false,
          stateMutability: 'nonpayable',
          type: 'function',
        },
      ],
      appId: '0xcf2f7270f094289626e0007b64fbca4292a4a05a52829a0e2d3634af729ad8d3',
      appName: 'foobarfoo.aragonpm.eth',
      deployment: {
        compiledAt: '2019-05-30T19:54:58.567Z',
        compiler: {
          name: 'solc',
          optimizer: {
            enabled: false,
          },
          version: '0.4.24+commit.e67f0147.Emscripten.clang',
        },
        contractName: 'CounterApp',
        flattenedCode: './code.sol',
        transactionHash: '0xff7a81963c6e2cc26abbb27d2c31b0850ad56f36a6debbb9832d60e0c757f392',
      },
      environments: {
        default: {
          appName: 'foobarfoo.aragonpm.eth',
          network: 'development',
        },
      },
      functions: [
        {
          abi: {
            constant: false,
            inputs: [],
            name: 'initialize',
            outputs: [],
            payable: false,
            stateMutability: 'nonpayable',
            type: 'function',
          },
          notice: null,
          roles: [],
          sig: 'initialize()',
        },
        {
          abi: {
            constant: false,
            inputs: [
              {
                name: 'step',
                type: 'uint256',
              },
            ],
            name: 'increment',
            outputs: [],
            payable: false,
            stateMutability: 'nonpayable',
            type: 'function',
          },
          notice: 'Increment the counter by `step`',
          roles: [
            'INCREMENT_ROLE',
          ],
          sig: 'increment(uint256)',
        },
        {
          abi: {
            constant: false,
            inputs: [
              {
                name: 'step',
                type: 'uint256',
              },
            ],
            name: 'decrement',
            outputs: [],
            payable: false,
            stateMutability: 'nonpayable',
            type: 'function',
          },
          notice: 'Decrement the counter by `step`',
          roles: [
            'DECREMENT_ROLE',
          ],
          sig: 'decrement(uint256)',
        },
      ],
      path: 'contracts/CounterApp.sol',
      roles: [
        {
          bytes: '0xa5be7a5782a02b192d813e38755a8b0f7a8b22c44f4d8bd9bd2697eb4b6b9eb2',
          id: 'INCREMENT_ROLE',
          name: 'Increment the counter',
          params: [],
        },
        {
          bytes: '0x6e46e39f4f121e8e4e992626990ce2fdbd501ac84167db8c74df030be07819a4',
          id: 'DECREMENT_ROLE',
          name: 'Decrement the counter',
          params: [],
        },
      ],
    }
