# Snapshot report for `src/cli/apm-publish.test.js`

The actual snapshot is saved in `apm-publish.test.js.snap`.

Generated by [AVA](https://ava.li).

## should publish an aragon app directory successfully

> Snapshot 1

    `Check IPFS [started]␊
    Start IPFS [started]␊
    → Starting IPFS at port: 5001␊
    Start IPFS [completed]␊
    Add local files [started]␊
    Add local files [completed]␊
    Check IPFS [completed]␊
    Applying version bump (major) [started]␊
     i Fetching latest version from aragonPM...␊
    Applying version bump (major) [completed]␊
    Deploy contract [started]␊
    Compile contracts [started]␊
    Compile contracts [completed]␊
    Deploy 'CounterApp' to network [started]␊
    → Deploying 'CounterApp' to network␊
    Deploy 'CounterApp' to network [completed]␊
    Generate deployment artifacts [started]␊
    Generate deployment artifacts [completed]␊
    Deploy contract [completed]␊
    Determine contract address for version [started]␊
    Determine contract address for version [completed]␊
    Prepare files for publishing [started]␊
    Prepare files for publishing [completed]␊
    Generate application artifact [started]␊
    Generate application artifact [completed]␊
    Publish foobarfoo.open.aragonpm.eth [started]␊
    Generating transaction [started]␊
    → Fetching DAO at 0x9a348D0c3f55c2B3f6A400CC1BE71c882Ff1bdC3...␊
    Generating transaction [completed]␊
    Sending transaction [started]␊
    → Waiting for transaction to be mined...␊
    Sending transaction [completed]␊
    Publish foobarfoo.open.aragonpm.eth [completed]␊
    Fetch published repo [started]␊
    Fetch published repo [completed]␊
     ✔ Successfully published foobarfoo.open.aragonpm.eth v1.0.0:`

> Snapshot 2

    {
      abi: [
        {
          constant: true,
          inputs: [],
          name: 'INCREMENT_ROLE',
          outputs: [
            {
              name: '',
              type: 'bytes32',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'hasInitialized',
          outputs: [
            {
              name: '',
              type: 'bool',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [
            {
              name: '_script',
              type: 'bytes',
            },
          ],
          name: 'getEVMScriptExecutor',
          outputs: [
            {
              name: '',
              type: 'address',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'getRecoveryVault',
          outputs: [
            {
              name: '',
              type: 'address',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'value',
          outputs: [
            {
              name: '',
              type: 'uint256',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [
            {
              name: 'token',
              type: 'address',
            },
          ],
          name: 'allowRecoverability',
          outputs: [
            {
              name: '',
              type: 'bool',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'appId',
          outputs: [
            {
              name: '',
              type: 'bytes32',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'getInitializationBlock',
          outputs: [
            {
              name: '',
              type: 'uint256',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: false,
          inputs: [
            {
              name: '_token',
              type: 'address',
            },
          ],
          name: 'transferToVault',
          outputs: [],
          payable: false,
          stateMutability: 'nonpayable',
          type: 'function',
        },
        {
          constant: true,
          inputs: [
            {
              name: '_sender',
              type: 'address',
            },
            {
              name: '_role',
              type: 'bytes32',
            },
            {
              name: '_params',
              type: 'uint256[]',
            },
          ],
          name: 'canPerform',
          outputs: [
            {
              name: '',
              type: 'bool',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'getEVMScriptRegistry',
          outputs: [
            {
              name: '',
              type: 'address',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'kernel',
          outputs: [
            {
              name: '',
              type: 'address',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'isPetrified',
          outputs: [
            {
              name: '',
              type: 'bool',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          constant: true,
          inputs: [],
          name: 'DECREMENT_ROLE',
          outputs: [
            {
              name: '',
              type: 'bytes32',
            },
          ],
          payable: false,
          stateMutability: 'view',
          type: 'function',
        },
        {
          anonymous: false,
          inputs: [
            {
              indexed: true,
              name: 'entity',
              type: 'address',
            },
            {
              indexed: false,
              name: 'step',
              type: 'uint256',
            },
          ],
          name: 'Increment',
          type: 'event',
        },
        {
          anonymous: false,
          inputs: [
            {
              indexed: true,
              name: 'entity',
              type: 'address',
            },
            {
              indexed: false,
              name: 'step',
              type: 'uint256',
            },
          ],
          name: 'Decrement',
          type: 'event',
        },
        {
          anonymous: false,
          inputs: [
            {
              indexed: true,
              name: 'executor',
              type: 'address',
            },
            {
              indexed: false,
              name: 'script',
              type: 'bytes',
            },
            {
              indexed: false,
              name: 'input',
              type: 'bytes',
            },
            {
              indexed: false,
              name: 'returnData',
              type: 'bytes',
            },
          ],
          name: 'ScriptResult',
          type: 'event',
        },
        {
          anonymous: false,
          inputs: [
            {
              indexed: true,
              name: 'vault',
              type: 'address',
            },
            {
              indexed: true,
              name: 'token',
              type: 'address',
            },
            {
              indexed: false,
              name: 'amount',
              type: 'uint256',
            },
          ],
          name: 'RecoverToVault',
          type: 'event',
        },
        {
          constant: false,
          inputs: [],
          name: 'initialize',
          outputs: [],
          payable: false,
          stateMutability: 'nonpayable',
          type: 'function',
        },
        {
          constant: false,
          inputs: [
            {
              name: 'step',
              type: 'uint256',
            },
          ],
          name: 'increment',
          outputs: [],
          payable: false,
          stateMutability: 'nonpayable',
          type: 'function',
        },
        {
          constant: false,
          inputs: [
            {
              name: 'step',
              type: 'uint256',
            },
          ],
          name: 'decrement',
          outputs: [],
          payable: false,
          stateMutability: 'nonpayable',
          type: 'function',
        },
      ],
      appId: '0x3d57bd395396e121770163b309cadc3ebb2b7fd0b1b736afbc39b64dd42bf543',
      appName: 'foobarfoo.open.aragonpm.eth',
      environments: {
        default: {
          appName: 'foobarfoo.open.aragonpm.eth',
          network: 'development',
        },
      },
      functions: [
        {
          abi: {
            constant: false,
            inputs: [],
            name: 'initialize',
            outputs: [],
            payable: false,
            stateMutability: 'nonpayable',
            type: 'function',
          },
          notice: null,
          roles: [],
          sig: 'initialize()',
        },
        {
          abi: {
            constant: false,
            inputs: [
              {
                name: 'step',
                type: 'uint256',
              },
            ],
            name: 'increment',
            outputs: [],
            payable: false,
            stateMutability: 'nonpayable',
            type: 'function',
          },
          notice: 'Increment the counter by `step`',
          roles: [
            'INCREMENT_ROLE',
          ],
          sig: 'increment(uint256)',
        },
        {
          abi: {
            constant: false,
            inputs: [
              {
                name: 'step',
                type: 'uint256',
              },
            ],
            name: 'decrement',
            outputs: [],
            payable: false,
            stateMutability: 'nonpayable',
            type: 'function',
          },
          notice: 'Decrement the counter by `step`',
          roles: [
            'DECREMENT_ROLE',
          ],
          sig: 'decrement(uint256)',
        },
      ],
      path: 'contracts/CounterApp.sol',
      roles: [
        {
          bytes: '0xa5be7a5782a02b192d813e38755a8b0f7a8b22c44f4d8bd9bd2697eb4b6b9eb2',
          id: 'INCREMENT_ROLE',
          name: 'Increment the counter',
          params: [],
        },
        {
          bytes: '0x6e46e39f4f121e8e4e992626990ce2fdbd501ac84167db8c74df030be07819a4',
          id: 'DECREMENT_ROLE',
          name: 'Decrement the counter',
          params: [],
        },
      ],
    }

> Snapshot 3

    {
      author: 'Placeholder-author',
      description: 'An application for Aragon',
      details_url: '/dist/meta/details.md',
      icons: [
        {
          sizes: '56x56',
          src: '/dist/meta/icon.svg',
        },
      ],
      name: 'Counter',
      screenshots: [
        {
          src: '/dist/meta/screenshot-1.png',
        },
      ],
      script: '/dist/script.js',
      source_url: 'https://<placeholder-repository-url>',
      start_url: '/dist/index.html',
    }
